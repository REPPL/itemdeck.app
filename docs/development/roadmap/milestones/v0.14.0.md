# v0.14.0 - Advanced Mechanics (Plugin-Based)

## Overview

Implement advanced gaming mechanics using the plugin architecture from v0.13.0, plus UI polish improvements. These mechanics serve as the first major validation of the plugin system.

## Features

### Core Mechanics

| ID | Feature | Complexity | Status |
|----|---------|------------|--------|
| [F-059](../features/completed/F-059-competing-mechanic.md) | Competing Mechanic (Top Trumps) | Large | ✅ Complete |
| [F-060](../features/completed/F-060-quiz-mechanic.md) | Quiz Mechanic | Medium | ✅ Complete |
| [F-058](../features/completed/F-058-collection-mechanic.md) | Collection Mechanic | Medium | ✅ Complete |

### Settings & UI Improvements

| ID | Feature | Complexity | Status |
|----|---------|------------|--------|
| [F-090](../features/completed/F-090-settings-draft-state.md) | Settings Draft State Pattern | Large | ✅ Complete |
| F-092 | Cache Consent Dialog UX | Small | ✅ Complete |
| F-093 | Mechanic Panel: Hide Active from List | Small | ✅ Complete |
| F-094 | Button Style Consistency Audit | Medium | ✅ Complete |

## Work Packages

Implementation structured as parallel work packages:

| Package | Description | Dependencies |
|---------|-------------|--------------|
| [WP-A](../../../prompts/implementation/v0.14.0/v0.14.0-wp-a-settings-ui.md) | Settings Draft State + UI Polish | None |
| [WP-B](../../../prompts/implementation/v0.14.0/v0.14.0-wp-b-competing.md) | Competing Mechanic (Top Trumps) | v0.13.0 |
| [WP-C](../../../prompts/implementation/v0.14.0/v0.14.0-wp-c-quiz.md) | Quiz Mechanic | v0.13.0 |
| [WP-D](../../../prompts/implementation/v0.14.0/v0.14.0-wp-d-collection.md) | Collection Mechanic | v0.13.0 |

See [Implementation Prompts](../../../prompts/implementation/v0.14.0/) for detailed specifications.

## Dependencies

- **v0.13.0**: Plugin Architecture (prerequisite - complete)

## Mechanics Overview

### Competing (Top Trumps)

Card-vs-card stat comparison game. Select a stat from your card, compare against opponent, winner takes both cards.

**Requirements:**
- Collection must have at least one numeric field
- AI opponent with configurable difficulty (simple, medium, hard)

### Quiz

Test knowledge of the collection. Multiple question types: image-to-name, name-to-image, fill-the-blank.

**Features:**
- Auto-generated questions from card data
- Score tracking with streaks
- Configurable difficulty and question count
- Plausible wrong answers from collection

### Collection Tracker

Track which items you own and want to acquire.

**Features:**
- Mark cards as owned or wishlisted
- Progress bar showing collection completion
- Export/import collection state
- Keyboard shortcuts (O, W)

## UI Polish

### F-092: Cache Consent Dialog UX

Clearer messaging for non-expert users:
- Update text: "Cached data is stored only in this browser on this device"
- Reorder buttons: Primary = "Allow", Secondary = "Not now"
- Add "(can change in Settings)" hint

### F-093: Mechanic Panel Fix

Don't show active mechanic twice - it appears in ACTIVE section, so remove from alternatives list.

### F-094: Button Style Audit

Ensure consistent button hierarchy across all modals:
1. Primary (filled) - Main action
2. Secondary (outline) - Alternative action
3. Tertiary (text) - Low-emphasis action

## Key Implementation Notes

1. **First plugin-based mechanics** - validates v0.13.0 architecture
2. **Competing**: Requires numeric field detection, AI decision logic
3. **Quiz**: Question generator must produce plausible wrong answers
4. **Collection**: Persistent state unlike game mechanics
5. All mechanics use the mechanic adapter from v0.13.0

### Settings Draft State Pattern

Changes settings to use a draft/commit pattern:

1. Opening settings creates a draft copy
2. All changes update draft only
3. "Accept" commits draft to storage
4. "Cancel" discards draft

**Exceptions:** Dark Mode and High Contrast apply immediately (accessibility).

## Release Preparation

- [x] All work packages complete
- [x] All mechanics implemented and playable
- [x] Settings draft state working
- [x] UI consistency verified
- [x] Tests passing
- [x] `/sync-docs` passing
- [x] `/verify-docs` passing
- [x] `/pii-scan` passing
- [x] Documentation updated
- [x] Devlog created
- [x] Retrospective written

## Follow-Up: v0.14.5 Modularity Refactor

After v0.14.0 is complete, [v0.14.5](./v0.14.5.md) will extract shared UI patterns from the five mechanics into a common component library. This addresses technical debt from duplicated code (FloatingTimer, GameCompletionModal, ErrorOverlay, action handlers) across mechanics.

---

## Related Documentation

- [Roadmap Overview](../README.md)
- [v0.13.0: Plugin Architecture](./v0.13.0.md)
- [v0.14.5: Shared Mechanics Components](./v0.14.5.md)
- [Implementation Prompts](../../../prompts/implementation/v0.14.0/)
- [Feature Specifications](../features/)

---

**Status**: Complete
