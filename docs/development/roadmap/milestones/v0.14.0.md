# v0.14.0 - Advanced Mechanics (Plugin-Based)

## Overview

Implement advanced gaming mechanics using the new plugin architecture from v0.13.0. These mechanics serve as the first major validation of the plugin system.

## Features

### Core Mechanics (Deferred from v0.13.0)

| ID | Feature | Complexity | Status |
|----|---------|------------|--------|
| [F-059](../features/planned/F-059-competing-mechanic.md) | Competing Mechanic (Top Trumps) | Large | ðŸ“‹ Planned |
| [F-060](../features/planned/F-060-quiz-mechanic.md) | Quiz Mechanic | Medium | ðŸ“‹ Planned |

### Settings Improvements

| ID | Feature | Complexity | Status |
|----|---------|------------|--------|
| [F-090](../features/planned/F-090-settings-draft-state.md) | Settings Draft State Pattern | Large | ðŸ“‹ Planned |

### Additional Candidates

The following may be added based on user feedback:

- Per-collection settings override UI
- Settings presets (save/load configurations)
- Settings search improvements

## Dependencies

- **v0.13.0**: Plugin Architecture (prerequisite)

## Mechanics Overview

### Competing (Top Trumps)

Card-vs-card stat comparison game. Select a stat from your card, compare against opponent, winner takes both cards.

**Requirements:**
- Collection must have at least one numeric field
- AI opponent with configurable difficulty (simple, medium, hard)

**Implementation as Plugin:**
- `manifest.json` with mechanic contribution
- Uses `collection:read` capability for card data
- Uses `storage:local` for game state persistence
- Uses `ui:overlay` for battle UI

### Quiz

Test knowledge of the collection. Multiple question types: image-to-name, name-to-image, fill-the-blank.

**Features:**
- Auto-generated questions from card data
- Score tracking with streaks
- Configurable difficulty and question count
- Plausible wrong answers from collection

**Implementation as Plugin:**
- `manifest.json` with mechanic contribution
- Question generator creates varied question types
- Results screen with score comparison

## Key Implementation Notes

1. **First plugin-based mechanics** - validates v0.13.0 architecture
2. **Competing**: Requires numeric field detection, AI decision logic
3. **Quiz**: Question generator must produce plausible wrong answers
4. Both mechanics use the mechanic adapter from v0.13.0

### Settings Draft State Pattern

Changes settings to use a draft/commit pattern:

1. Opening settings creates a draft copy
2. All changes update draft only
3. "Accept" commits draft to storage
4. "Cancel" discards draft

**Exceptions:** Dark Mode and High Contrast apply immediately (accessibility).

## Release Preparation

- [ ] All mechanics implemented as plugins
- [ ] Mechanics load and play correctly
- [ ] Settings draft state working
- [ ] Tests passing
- [ ] Documentation updated
- [ ] Devlog created
- [ ] Retrospective written

---

## Related Documentation

- [Roadmap Overview](../README.md)
- [v0.13.0: Plugin Architecture](./v0.13.0.md)
- [Feature Specifications](../features/)

---

**Status**: Planned
