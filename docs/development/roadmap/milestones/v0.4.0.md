# v0.4.0 - Performance & Interaction

## Theme

Scale, optimisation, advanced interactions, and layout modes.

## Features

| ID | Feature | Complexity | Status |
|----|---------|------------|--------|
| [F-025](../features/planned/F-025-bundle-size-monitoring.md) | Bundle Size Monitoring | Small | ðŸ“‹ Planned |
| [F-028](../features/planned/F-028-card-drag-and-drop.md) | Card Drag and Drop | Large | ðŸ“‹ Planned |
| [F-031](../features/planned/F-031-fit-to-viewport.md) | Fit to Viewport Mode | Medium | ðŸ“‹ Planned |
| [F-032](../features/planned/F-032-card-stack-view.md) | Card Stack View | Large | ðŸ“‹ Planned |
| [F-035](../features/planned/F-035-card-quick-actions.md) | Card Quick Actions | Medium | ðŸ“‹ Planned |
| [F-036](../features/planned/F-036-card-filtering.md) | Card Filtering | Medium | ðŸ“‹ Planned |
| [F-037](../features/planned/F-037-card-sorting.md) | Card Sorting | Small | ðŸ“‹ Planned |
| [F-038](../features/planned/F-038-card-carousel-mode.md) | Card Carousel Mode | Large | ðŸ“‹ Planned |
| [F-040](../features/planned/F-040-touch-gestures.md) | Touch Gestures | Medium | ðŸ“‹ Planned |
| [F-014](../features/planned/F-014-virtual-scrolling.md) | Virtual Scrolling | Large | ðŸ“‹ Planned |
| [F-015](../features/planned/F-015-image-lazy-loading.md) | Image Lazy Loading | Medium | ðŸ“‹ Planned |
| [F-016](../features/planned/F-016-bundle-optimisation.md) | Bundle Optimisation | Medium | ðŸ“‹ Planned |

## Dependencies

- **Requires**: v0.1.0-v0.3.0
- **Blocks**: v0.5.0 Quality

## New Dependencies

```json
{
  "dependencies": {
    "@tanstack/react-virtual": "^3.x",
    "@dnd-kit/core": "^6.x",
    "@dnd-kit/sortable": "^8.x"
  },
  "devDependencies": {
    "size-limit": "^11.x",
    "@size-limit/preset-app": "^11.x",
    "rollup-plugin-visualizer": "^5.x"
  }
}
```

## Key Decisions

- [ADR-006: Use TanStack Virtual](../../decisions/adrs/ADR-006-virtual-scrolling.md)

## Draft Release Notes

### Added
- Virtual scrolling for 100+ cards
- Intersection Observer lazy loading
- Bundle size monitoring with CI integration
- Bundle visualisation reports
- Performance monitoring utilities
- Card drag and drop reordering
- Fit to viewport mode (show all cards)
- Card stack view (Apple Wallet style)
- Quick action buttons on cards
- Card filtering by category/text
- Card sorting options
- Carousel view mode
- Touch gestures (swipe, long-press, pinch)

### Changed
- CardGrid refactored for virtualisation
- Bundle split into vendor chunks
- Size budgets enforced (150 KB JS gzip)
- Multiple layout modes available

### Performance Targets

| Metric | Target |
|--------|--------|
| First Contentful Paint | < 1.5s |
| Time to Interactive | < 3s |
| Render 100 cards | < 16ms |
| Scroll performance | 60fps |

## Preparation Checklist

- [ ] All feature specs reviewed
- [ ] Dependencies approved
- [ ] ADRs documented
- [ ] Performance baselines captured

---

## Related Documentation

- [Roadmap Overview](../README.md)
- [Features Index](../features/README.md)
- [Performance Research](../../../research/performance-virtualisation.md)
- [Card UI Design Patterns Research](../../../research/card-ui-design-patterns.md)

---

**Status**: Planned
