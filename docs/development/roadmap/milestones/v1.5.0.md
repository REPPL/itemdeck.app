# v1.5.0: Internationalisation Foundation

## Overview

Prepare Itemdeck for multi-language support by extracting all user-facing text into translation files and implementing a configurable icon registry. This milestone establishes the infrastructure for v2.0.0's full language support including RTL.

## Theme

**Under-the-Hood Preparation** - New functionality that enables future features without changing the user experience (for English users).

## Features

| ID | Feature | Priority | Complexity |
|----|---------|----------|------------|
| [F-075](../features/planned/F-075-internationalisation-foundation.md) | Internationalisation Foundation | High | High |
| [F-076](../features/planned/F-076-icon-configuration-registry.md) | Icon Configuration Registry | Medium | Medium |

## Scope

### Included

- react-i18next integration with namespace-based translations
- Language selector in Settings (en-GB, en-US, German)
- TypeScript type safety for translation keys
- JSON-based icon registry with universal `<Icon>` component
- RTL-aware icon mirroring flags (implementation in v2.0.0)
- German translations (validated)

### Excluded (Deferred to v2.0.0)

- RTL language support (Arabic, Hebrew)
- CSS logical properties migration
- Community translation contributions

## Dependencies

```
v1.0.0 Multi-Collection
    │
    ▼
v1.5.0 Internationalisation Foundation ← THIS MILESTONE
    │
    ▼
v2.0.0 Full Language Support (incl. RTL)
```

## Technical Changes

### New Dependencies

```json
{
  "dependencies": {
    "i18next": "^24.0.0",
    "react-i18next": "^15.0.0",
    "i18next-browser-languagedetector": "^8.0.0"
  },
  "devDependencies": {
    "i18next-scanner": "^4.0.0"
  }
}
```

### New Directories

```
src/
├── i18n/
│   ├── index.ts
│   ├── config.ts
│   ├── types.ts
│   ├── hooks/
│   ├── locales/
│   │   ├── en-GB/
│   │   ├── en-US/
│   │   └── de/
│   └── utils/
└── icons/
    ├── index.ts
    ├── registry.ts
    ├── types.ts
    ├── Icon.tsx
    └── definitions/
```

### Modified Files

| File | Changes |
|------|---------|
| `src/App.tsx` | Add I18nextProvider |
| `src/stores/settingsStore.ts` | Add language preference |
| `vite.config.ts` | Add i18n chunk |
| 50+ component files | Use `t()` and `<Icon>` |

## Success Criteria

- [ ] All 360+ user-facing strings in translation files
- [ ] Language selector works (en-GB, en-US, de)
- [ ] German translations complete and validated
- [ ] TypeScript errors for invalid translation keys
- [ ] All icons in JSON registry
- [ ] Universal `<Icon>` component used everywhere
- [ ] No inline SVGs in component files
- [ ] Bundle size within 200KB JS target
- [ ] All existing tests pass

## Risk Assessment

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Bundle size increase | Medium | Low | Lazy loading, chunk splitting |
| Missing translations | High | Medium | TypeScript keys, CI checks |
| Icon migration breaks | Low | Medium | Incremental migration, tests |

## Preparation Checklist

- [x] Research document: state-of-the-art-internationalisation.md
- [x] ADR-021: Internationalisation Library
- [x] ADR-022: Icon Configuration Registry
- [x] Feature spec: F-075
- [x] Feature spec: F-076

## Release Notes (Draft)

### New Features

- **Language Support**: Itemdeck now supports English (British), English (American), and German. More languages coming in v2.0.0.
- **Language Selector**: Choose your preferred language in Settings > System.

### Under the Hood

- All user-facing text extracted to translation files
- New icon system enables future theme customisation
- Foundation for RTL language support (Arabic, Hebrew in v2.0.0)

### Breaking Changes

None for end users.

---

## Related Documentation

- [State-of-the-Art: Internationalisation](../../../research/state-of-the-art-internationalisation.md)
- [ADR-021: Internationalisation Library](../../decisions/adrs/ADR-021-internationalisation-library.md)
- [ADR-022: Icon Configuration Registry](../../decisions/adrs/ADR-022-icon-configuration-registry.md)
- [v2.0.0 Milestone](./v2.0.0.md)

---

**Status**: Planned
