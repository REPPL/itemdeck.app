# v2.0.0: Internationalisation & Full Language Support

## Overview

Make Itemdeck truly international with multi-language support including RTL (Right-to-Left) languages. This milestone combines the i18n infrastructure with full implementation including Arabic and Hebrew support.

## Theme

**Global Accessibility** - Making Itemdeck usable by speakers of all major languages with fully localised and mirrored UI.

## Features

| ID | Feature | Priority | Complexity |
|----|---------|----------|------------|
| [F-075](../features/planned/F-075-internationalisation-foundation.md) | Internationalisation Foundation | High | High |
| [F-076](../features/planned/F-076-icon-configuration-registry.md) | Icon Configuration Registry | Medium | Medium |
| [F-077](../features/planned/F-077-rtl-support.md) | RTL Language Support | High | High |

## Scope

### Phase 1: Foundation

- react-i18next integration with namespace-based translations
- Language selector in Settings (en-GB, en-US, German)
- TypeScript type safety for translation keys
- JSON-based icon registry with universal `<Icon>` component
- RTL-aware icon mirroring flags
- German translations (validated)

### Phase 2: RTL Support

- Arabic translations (complete set)
- Hebrew translations (complete set)
- CSS logical properties migration
- RTL layout mirroring
- Icon mirroring for directional icons

## Dependencies

```
v1.0.0 Multi-Collection
    │
    ▼
v1.5.0 Full Plugin Ecosystem
    │
    ▼
v2.0.0 Internationalisation ← THIS MILESTONE
```

## Technical Changes

### New Dependencies

```json
{
  "dependencies": {
    "i18next": "^24.0.0",
    "react-i18next": "^15.0.0",
    "i18next-browser-languagedetector": "^8.0.0"
  },
  "devDependencies": {
    "i18next-scanner": "^4.0.0"
  }
}
```

### New Directories

```
src/
├── i18n/
│   ├── index.ts
│   ├── config.ts
│   ├── types.ts
│   ├── hooks/
│   ├── locales/
│   │   ├── en-GB/
│   │   ├── en-US/
│   │   ├── de/
│   │   ├── ar/                  # Arabic (RTL)
│   │   └── he/                  # Hebrew (RTL)
│   └── utils/
└── icons/
    ├── index.ts
    ├── registry.ts
    ├── types.ts
    ├── Icon.tsx
    └── definitions/
```

### CSS Migration

All directional CSS properties converted to logical equivalents:

| Before | After |
|--------|-------|
| `margin-left` | `margin-inline-start` |
| `margin-right` | `margin-inline-end` |
| `padding-left` | `padding-inline-start` |
| `text-align: left` | `text-align: start` |
| `left` / `right` | `inset-inline-start` / `inset-inline-end` |

### Modified Files

| File | Changes |
|------|---------|
| `src/App.tsx` | Add I18nextProvider, set `dir` attribute |
| `src/stores/settingsStore.ts` | Add language preference |
| `vite.config.ts` | Add i18n chunk |
| 50+ component files | Use `t()` and `<Icon>` |
| 100+ CSS module files | Convert to logical properties |

## Success Criteria

### Foundation
- [ ] All 360+ user-facing strings in translation files
- [ ] Language selector works (en-GB, en-US, de)
- [ ] German translations complete and validated
- [ ] TypeScript errors for invalid translation keys
- [ ] All icons in JSON registry
- [ ] Universal `<Icon>` component used everywhere
- [ ] No inline SVGs in component files

### RTL Support
- [ ] Arabic translations complete and validated
- [ ] Hebrew translations complete and validated
- [ ] All CSS uses logical properties
- [ ] UI mirrors correctly in RTL mode
- [ ] Directional icons flip appropriately
- [ ] Text alignment correct in RTL
- [ ] Positioned elements (tooltips, modals) correct
- [ ] No visual regressions in LTR mode

### Quality
- [ ] Bundle size within 200KB JS target
- [ ] All existing tests pass
- [ ] RTL validated by native speakers

## Risk Assessment

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Bundle size increase | Medium | Low | Lazy loading, chunk splitting |
| Missing translations | High | Medium | TypeScript keys, CI checks |
| Icon migration breaks | Low | Medium | Incremental migration, tests |
| CSS regression in LTR | Medium | High | Visual regression tests |
| Incomplete RTL coverage | Medium | Medium | Systematic CSS audit |

## v2.0.0 Significance

This milestone marks the first major version increment:
- **v1.x.x**: Feature-complete English application with plugin ecosystem
- **v2.0.0**: Truly international application with RTL support

## Preparation Checklist

### Research Documents
- [x] Research: state-of-the-art-internationalisation.md
- [x] Research: R-013-community-translation-workflow.md
- [x] Research: R-014-rtl-testing-strategy.md
- [x] Research: R-015-i18n-performance-benchmarks.md
- [x] Research: R-016-accessibility-i18n-integration.md

### Architecture Decision Records
- [x] ADR-021: Internationalisation Library
- [x] ADR-022: Icon Configuration Registry
- [x] ADR-027: Translation Management Workflow
- [x] ADR-028: Plugin Translation Contributions (Deferred to v2.x)

### Feature Specifications
- [x] Feature spec: F-075 (with error handling and fallback strategy)
- [x] Feature spec: F-076
- [x] Feature spec: F-077 (with CSS inventory and testing matrix)

## Release Preparation

- [ ] All features complete
- [ ] Arabic translations validated
- [ ] Hebrew translations validated
- [ ] Visual regression tests passing
- [ ] Cross-browser RTL testing
- [ ] Tests passing
- [ ] `/sync-docs` passing
- [ ] `/verify-docs` passing
- [ ] `/pii-scan` passing
- [ ] Documentation updated
- [ ] Devlog created
- [ ] Retrospective written

---

## Related Documentation

### Prerequisites
- [v1.5.0 Milestone](./v1.5.0.md) (plugin ecosystem)

### Research
- [State-of-the-Art: Internationalisation](../../research/state-of-the-art-internationalisation.md)
- [R-013: Community Translation Workflow](../../research/R-013-community-translation-workflow.md)
- [R-014: RTL Testing Strategy](../../research/R-014-rtl-testing-strategy.md)
- [R-015: i18n Performance Benchmarks](../../research/R-015-i18n-performance-benchmarks.md)
- [R-016: Accessibility i18n Integration](../../research/R-016-accessibility-i18n-integration.md)

### Architecture Decisions
- [ADR-021: Internationalisation Library](../../decisions/adrs/ADR-021-internationalisation-library.md)
- [ADR-022: Icon Configuration Registry](../../decisions/adrs/ADR-022-icon-configuration-registry.md)
- [ADR-027: Translation Management Workflow](../../decisions/adrs/ADR-027-translation-management-workflow.md)
- [ADR-028: Plugin Translation Contributions](../../decisions/adrs/ADR-028-plugin-translation-contributions.md) (Deferred)

---

**Status**: Planned
