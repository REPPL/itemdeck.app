# Project Setup Prompt v2: Adaptive Card Grid Application

## Document Purpose
This prompt instructs an AI coding assistant to scaffold a web application project. It is written to be:
- **Executable** by an AI agent without ambiguity
- **Readable** by humans for review, modification, or manual reproduction

This is version 2, incorporating design decisions made during the initial implementation.

---

## 1. Project Overview

### 1.1 Description
Create a browser-based card display application using a "Memory game" visual metaphor. Cards are arranged in a responsive grid and maintain fixed dimensions. This is the **foundation scaffold only** – no game logic is required at this stage.

### 1.2 Core Behaviours
- Cards display in a responsive grid with smooth repositioning animation on resize
- Cards have fixed dimensions (default 300px width, 5:7 poker card ratio)
- Cards show a "back" design: centred logo with optional year text underneath
- The grid is centred with equal spacing on all sides
- Minimum viewport width: 320px (mobile-friendly)

### 1.3 Scope of This Task
Set up the project structure, configuration, and placeholder components. **Do not implement**:
- Card flip animations
- Data fetching logic
- Detail view/modal/carousel
- Virtualised scrolling

---

## 2. Technical Requirements

### 2.1 Technology Stack

| Concern | Technology | Version/Notes |
|---------|------------|---------------|
| Language | TypeScript | Strict mode enabled |
| Framework | React | v18+ with functional components and hooks |
| Build Tool | Vite | Latest stable |
| Styling | CSS Modules | One `.module.css` file per component |
| CSS Features | Absolute positioning with CSS transitions | For smooth layout animation |
| Linting | ESLint | v9+ with flat config format |
| Formatting | Prettier | Integrated with ESLint |
| Package Manager | npm | |

### 2.2 Browser Support
- Modern evergreen browsers (Chrome, Firefox, Safari, Edge – latest two versions)
- Minimum viewport width: 320px

### 2.3 Code Standards
- **Naming**: PascalCase for components, camelCase for functions/variables, kebab-case for CSS classes
- **Components**: One component per file; co-locate `.tsx` and `.module.css`
- **Types**: Define all data structures in `src/types/`; avoid `any`
- **Exports**: Use named exports (not default) for all components and utilities
- **Comments**: JSDoc for public functions; inline comments only where logic is non-obvious
- **Language**: British English for all comments, documentation, and user-facing text
- **CSS Properties**: Use British English for custom property names (`--colour-*`) but American English for CSS syntax (`color:`)

---

## 3. Project Structure

```
project-root/
├── index.html
├── package.json
├── tsconfig.json
├── tsconfig.node.json
├── vite.config.ts
├── eslint.config.js              # ESLint v9 flat config
├── .prettierrc
├── .gitignore
├── README.md
│
├── public/
│   └── favicon.svg               # 4-card grid icon (blue, purple, green, amber)
│
└── src/
    ├── main.tsx                    # Application entry point
    ├── App.tsx                     # Root component
    ├── App.module.css
    ├── vite-env.d.ts
    │
    ├── assets/
    │   └── placeholder-logo.svg    # Default card back logo
    │
    ├── components/
    │   ├── Card/
    │   │   ├── Card.tsx
    │   │   └── Card.module.css
    │   │
    │   ├── CardGrid/
    │   │   ├── CardGrid.tsx
    │   │   └── CardGrid.module.css
    │   │
    │   ├── MenuButton/
    │   │   ├── MenuButton.tsx
    │   │   └── MenuButton.module.css
    │   │
    │   └── Sidebar/
    │       ├── Sidebar.tsx
    │       └── Sidebar.module.css
    │
    ├── context/
    │   └── SettingsContext.tsx     # Card settings provider
    │
    ├── hooks/
    │   ├── useCardData.ts          # Returns mock card data
    │   └── useSettingsContext.ts   # Settings context hook
    │
    ├── types/
    │   ├── card.ts                 # Card data interface
    │   └── settings.ts             # Settings interfaces and defaults
    │
    ├── data/
    │   └── cards.mock.ts           # 100 mock cards for testing
    │
    └── styles/
        └── global.css              # CSS reset and custom properties
```

---

## 4. Design Specifications

### 4.1 Card Design

**Dimensions:**
- Default width: 300px
- Aspect ratio: 5:7 (poker card ratio)
- Configurable via settings context

**Card Back Appearance:**
- Dark gradient background (`linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%)`)
- Logo always centred (both horizontally and vertically)
- Logo size: 60% width, max 50% height
- Optional text (e.g. year) displayed below logo by default
  - Positioned at 8% from bottom of card
  - Centred horizontally
  - Can optionally be positioned above logo (at 12% from top)
- Text displayed in a rounded pill/badge (font-size: 1.75rem)
- Badge has proportional border-radius to card corners
- Blue glow effect on hover (no movement)

### 4.2 Grid Layout

**Behaviour:**
- Cards positioned absolutely with JavaScript-calculated positions
- CSS transitions on `left` and `top` for smooth animation (400ms)
- Grid is centred horizontally with equal spacing on sides
- Gap between cards: 1rem (16px)
- Padding around grid: 1rem (16px)

**Animation:**
- When window resizes, cards smoothly animate to new positions
- Uses absolute positioning with CSS transitions (not CSS Grid)
- JavaScript calculates column count and card positions

### 4.3 Menu Button

**Position:**
- Fixed, top-left corner
- Offset: 1.5rem from top and left (to avoid card alignment)

**Appearance:**
- Size: 44x44px
- Semi-transparent reddish background (`rgba(180, 60, 60, 0.7)`)
- Backdrop blur
- Hamburger icon (3 bars) that animates to X when open

### 4.4 Sidebar

**Behaviour:**
- Grows from menu button position to full-height sidebar
- Animates: position (top/left), size (width/height), border-radius
- Duration: 350ms with ease-out curve

**Closed State:**
- Same position and size as menu button (44x44px)
- Hidden behind menu button

**Open State:**
- Position: top-left corner of screen (0, 0)
- Size: 280px wide, 100vh height
- No border-radius

**Appearance:**
- White semi-transparent background (`rgba(255, 255, 255, 0.85)`)
- Backdrop blur (12px)

**Backdrop:**
- Covers entire screen when sidebar open
- Semi-transparent dark (`rgba(0, 0, 0, 0.2)`)
- Backdrop blur (8px) to make background fuzzy
- Clicking backdrop closes sidebar

---

## 5. Type Definitions

### 5.1 Card Data

```typescript
export interface CardData {
  id: string;
  title: string;
  year?: string;
  imageUrl: string;
  summary?: string;
  detailUrl?: string;
  logoUrl?: string;           // Optional per-card logo override
  metadata?: Record<string, string>;
}
```

### 5.2 Settings

```typescript
export interface CardSettings {
  width: number;              // Default: 300
  ratio: [number, number];    // Default: [5, 7] (poker card)
  logoUrl?: string;           // Global logo override
}

export interface AppSettings {
  card: CardSettings;
}
```

---

## 6. Mock Data

- Generate 100 sample cards for performance testing
- Use placeholder images: `https://picsum.photos/seed/{id}/300/420`
- Vary data: some with year, some without
- Years should range reasonably (e.g., 1990-2024)

---

## 7. Acceptance Criteria

When complete, the following must be true:

1. **Runs without errors**: `npm install && npm run dev` starts the dev server
2. **Displays cards**: 100 cards visible in a responsive, centred grid
3. **Smooth animation**: Cards animate smoothly when window is resized
4. **Fixed card size**: Cards maintain exact dimensions (300x420px by default)
5. **Equal spacing**: Padding around grid matches gap between cards
6. **Menu button works**: Clicking opens/closes sidebar
7. **Sidebar animates**: Grows from button position to full-height sidebar
8. **Background blurs**: When sidebar open, background is blurred
9. **No TypeScript errors**: `npm run typecheck` passes
10. **No lint errors**: `npm run lint` passes

---

## 8. Out of Scope (Do Not Implement)

- Card flip animation or interaction
- Fetching data from external URL
- Detail modal or carousel
- Virtualised/windowed rendering
- Unit or integration tests
- CI/CD configuration
- Deployment configuration
- Sidebar menu items/commands (placeholder only)

---

## 9. Assets

### 9.1 Favicon

The favicon is an SVG showing a 2×2 grid of rounded rectangles representing cards:

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <rect x="10" y="10" width="35" height="45" rx="4" fill="#3b82f6" stroke="#1e40af" stroke-width="2"/>
  <rect x="55" y="10" width="35" height="45" rx="4" fill="#8b5cf6" stroke="#5b21b6" stroke-width="2"/>
  <rect x="10" y="65" width="35" height="25" rx="4" fill="#10b981" stroke="#047857" stroke-width="2"/>
  <rect x="55" y="65" width="35" height="25" rx="4" fill="#f59e0b" stroke="#b45309" stroke-width="2"/>
</svg>
```

Colours: blue (#3b82f6), purple (#8b5cf6), green (#10b981), amber (#f59e0b)

### 9.2 Logo

Place project logo at `docs/assets/img/logo.png` for use in README.

---

## 10. Key Implementation Notes

### 10.1 ESLint v9 Flat Config
ESLint v9 uses `eslint.config.js` (flat config format), not `.eslintrc.cjs`.

### 10.2 Vite ESM Configuration
Vite config must use ESM-compatible `__dirname`:
```typescript
import { fileURLToPath } from "url";
const __dirname = fileURLToPath(new URL(".", import.meta.url));
```

### 10.3 TypeScript Strict Mode
Template literals with numbers require `String()` wrapper:
```typescript
// Correct
style={{ width: `${String(width)}px` }}

// Incorrect (TypeScript error in strict mode)
style={{ width: `${width}px` }}
```

### 10.4 Grid Animation Approach
CSS Grid's `auto-fill` cannot animate item positions. Use:
- Absolute positioning for cards
- JavaScript to calculate positions based on container width
- CSS transitions on `left` and `top` properties
- ResizeObserver to detect container size changes

---

## End of Prompt
