/**
 * Styles for Snap Ranking mechanic.
 * A field value guessing game.
 */

/* Floating timer - minimal, non-intrusive during active play */
/* Consistent with Memory game's floating timer style */
.floatingTimer {
  position: fixed;
  top: calc(0.75rem + env(safe-area-inset-top, 0px));
  right: calc(0.75rem + env(safe-area-inset-right, 0px));
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: rgba(0, 0, 0, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 0.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
  font-variant-numeric: tabular-nums;
}

.timerIcon {
  font-size: 0.875rem;
  opacity: 0.7;
}

.timerValue {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--colour-accent, #6c5ce7);
}

.progress {
  font-size: 0.875rem;
  color: rgba(255, 255, 255, 0.7);
  padding-left: 0.5rem;
  border-left: 1px solid rgba(255, 255, 255, 0.2);
}

/* Stats bar - legacy, kept for reference */
.statsBar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0.75rem 1rem;
  padding-top: calc(0.75rem + env(safe-area-inset-top, 0px));
  background: var(--colour-surface, #1a1a2e);
  border-bottom: 1px solid var(--colour-border, rgba(255, 255, 255, 0.1));
  gap: 1.5rem;
  flex-wrap: wrap;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.statsItem {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
}

.statsLabel {
  font-size: 0.7rem;
  color: var(--colour-text-muted, #888);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.statsValue {
  font-size: 1rem;
  font-weight: bold;
  color: var(--colour-text, #fff);
}

.timer {
  font-variant-numeric: tabular-nums;
  font-size: 1.25rem;
  color: var(--colour-accent, #6c5ce7);
}

/* Progress bar */
.progressContainer {
  flex: 1;
  max-width: 200px;
  height: 8px;
  background: var(--colour-surface-light, #2a2a4e);
  border-radius: 4px;
  overflow: hidden;
}

.progressBar {
  height: 100%;
  background: var(--colour-accent, #6c5ce7);
  transition: width 0.3s ease;
}

/* Guess buttons overlay (bottom of screen) */
.guessOverlay {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1rem;
  background: linear-gradient(transparent, var(--colour-background, #0f0f1a) 30%);
  z-index: 100;
}

.guessHeader {
  margin-bottom: 0.75rem;
}

.guessPrompt {
  font-size: 1rem;
  color: var(--colour-text-muted, #888);
}

.guessButtons {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 800px;
}

/* Button layouts based on count */
.layoutRow {
  /* 2-4 buttons: single row, larger buttons */
}

.layoutRow .guessButton {
  min-width: 80px;
  padding: 1rem 1.25rem;
}

.layoutTwoRows {
  /* 5-8 buttons: wrap to 2 rows */
  max-width: 500px;
}

.layoutGrid {
  /* 9-12 buttons: grid layout */
  max-width: 600px;
}

.layoutScrollable {
  /* 13+ buttons: scrollable with smaller buttons */
  max-width: 700px;
  max-height: 120px;
  overflow-y: auto;
  padding: 0.5rem;
  background: var(--colour-surface, #1a1a2e);
  border-radius: 8px;
}

.layoutScrollable .guessButton {
  min-width: 60px;
  padding: 0.5rem 0.75rem;
}

.guessButton {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 70px;
  padding: 0.75rem 1rem;
  border: 2px solid var(--colour-accent, #6c5ce7);
  border-radius: 8px;
  background: var(--colour-surface, #1a1a2e);
  color: var(--colour-text, #fff);
  cursor: pointer;
  transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
  font-family: inherit;
}

.guessButton:hover {
  transform: scale(1.05);
  background: var(--colour-accent, #6c5ce7);
  border-color: var(--colour-accent, #6c5ce7);
}

.guessButton:active {
  transform: scale(0.95);
}

.guessValue {
  font-size: 1.25rem;
  font-weight: bold;
  line-height: 1;
}

.guessShortcut {
  font-size: 0.65rem;
  opacity: 0.6;
  margin-top: 0.25rem;
}

/* Results modal */
.resultsOverlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.85);
  z-index: 200;
  padding: 1rem;
}

.resultsModal {
  background: var(--colour-surface, #1a1a2e);
  border-radius: 12px;
  padding: 1.5rem;
  max-width: 500px;
  width: 100%;
  max-height: 80vh;
  overflow-y: auto;
}

.resultsHeader {
  text-align: center;
  margin-bottom: 1.5rem;
}

.resultsTitle {
  font-size: 1.5rem;
  font-weight: bold;
  margin: 0 0 0.75rem 0;
  color: var(--colour-text, #fff);
}

.resultsScore {
  display: flex;
  justify-content: center;
  align-items: baseline;
  gap: 0.25rem;
  margin-bottom: 0.5rem;
}

.scoreValue {
  font-size: 2.5rem;
  font-weight: bold;
  color: var(--colour-accent, #6c5ce7);
}

.scoreMax {
  font-size: 1.25rem;
  color: var(--colour-text-muted, #888);
}

.scorePercent {
  font-size: 1rem;
  color: var(--colour-text-muted, #888);
  margin-left: 0.5rem;
}

.resultsStats {
  display: flex;
  justify-content: center;
  gap: 2rem;
  color: var(--colour-text-muted, #888);
  font-size: 0.875rem;
}

/* Score breakdown section */
.breakdownSection {
  margin-bottom: 1.5rem;
}

.breakdownTitle {
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--colour-text-muted, #888);
  margin: 0 0 0.75rem 0;
  text-align: center;
}

.breakdownGrid {
  display: flex;
  justify-content: center;
  gap: 1rem;
}

.breakdownItem {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0.75rem 1.25rem;
  border-radius: 8px;
  min-width: 70px;
}

.breakdownItem.correct {
  background: rgba(46, 204, 113, 0.15);
  color: #2ECC71;
}

.breakdownItem.close {
  background: rgba(241, 196, 15, 0.15);
  color: #F1C40F;
}

.breakdownItem.wrong {
  background: rgba(231, 76, 60, 0.15);
  color: #E74C3C;
}

.breakdownCount {
  font-size: 1.5rem;
  font-weight: bold;
}

.breakdownLabel {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: 0.25rem;
}

/* Guess list */
.guessList {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  max-height: 200px;
  overflow-y: auto;
  margin-bottom: 1rem;
}

.guessItem {
  display: flex;
  align-items: center;
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  font-size: 0.875rem;
}

.guessItem.correct {
  background: rgba(46, 204, 113, 0.1);
}

.guessItem.close {
  background: rgba(241, 196, 15, 0.1);
}

.guessItem.wrong {
  background: rgba(231, 76, 60, 0.1);
}

.guessItemTitle {
  flex: 1;
  color: var(--colour-text, #fff);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.guessItemResult {
  color: var(--colour-text-muted, #888);
  margin: 0 0.75rem;
  font-size: 0.8rem;
}

.guessItemScore {
  font-weight: bold;
  min-width: 30px;
  text-align: right;
}

.guessItem.correct .guessItemScore {
  color: #2ECC71;
}

.guessItem.close .guessItemScore {
  color: #F1C40F;
}

.guessItem.wrong .guessItemScore {
  color: var(--colour-text-muted, #888);
}

/* Action buttons */
.resultsActions {
  display: flex;
  gap: 0.75rem;
  justify-content: space-between;
}

.actionButton {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
  font-family: inherit;
}

.actionButton:hover {
  transform: scale(1.02);
}

.actionButton:active {
  transform: scale(0.98);
}

.primaryButton {
  background: var(--colour-accent, #6c5ce7);
  border: none;
  color: white;
}

.secondaryButton {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.4);
  color: var(--colour-text, #fff);
}

.secondaryButton:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.7);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.7);
}

.exitButton {
  background: transparent;
  border: 1px solid #f87171;
  color: #f87171;
}

.exitButton:hover {
  background: #f87171;
  color: white;
}

.copyButton {
  margin-top: 0.75rem;
  padding: 0.5rem 1rem;
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--colour-text-muted, rgba(255, 255, 255, 0.6));
  background: transparent;
  border: 1px dashed var(--colour-border, rgba(255, 255, 255, 0.2));
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s ease;
  font-family: inherit;
}

.copyButton:hover {
  color: var(--colour-text, #fff);
  border-color: var(--colour-text-muted, rgba(255, 255, 255, 0.4));
}

/* Card overlay */
.cardOverlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.cardOverlay.clickable {
  pointer-events: auto;
  cursor: pointer;
}

/* Reveal prompt for unflipped current card */
.revealPrompt {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 12px;
  border: 2px solid var(--colour-accent, #6c5ce7);
}

.revealIcon {
  font-size: 2rem;
  font-weight: bold;
  color: var(--colour-accent, #6c5ce7);
}

.revealText {
  font-size: 0.875rem;
  color: var(--colour-text-muted, #888);
}

/* Guess badge on already-guessed cards */
.guessBadge {
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  font-weight: bold;
  font-size: 1.25rem;
  background: rgba(0, 0, 0, 0.8);
}

.guessBadge.correct {
  color: #2ECC71;
  border: 2px solid #2ECC71;
}

.guessBadge.close {
  color: #F1C40F;
  border: 2px solid #F1C40F;
}

.guessBadge.wrong {
  color: #E74C3C;
  border: 2px solid #E74C3C;
}

/* Current card highlight */
.currentCard {
  position: absolute;
  inset: -4px;
  border: 3px solid var(--colour-accent, #6c5ce7);
  border-radius: 12px;
  pointer-events: none;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Error overlay */
.errorOverlay {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.85);
  z-index: 200;
  padding: 1rem;
}

.errorModal {
  background: var(--colour-surface, #1a1a2e);
  border-radius: 12px;
  padding: 2rem;
  max-width: 400px;
  width: 100%;
  text-align: center;
}

.errorTitle {
  font-size: 1.5rem;
  font-weight: bold;
  margin: 0 0 1rem 0;
  color: #E74C3C;
}

.errorMessage {
  color: var(--colour-text, #fff);
  margin: 0 0 0.75rem 0;
  line-height: 1.5;
}

.errorHint {
  color: var(--colour-text-muted, #888);
  font-size: 0.875rem;
  margin: 0 0 1.5rem 0;
}

.errorExitButton {
  padding: 0.75rem 2rem;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  background: var(--colour-accent, #4f9eff);
  color: #fff;
  transition: transform 0.1s ease, opacity 0.1s ease;
}

.errorExitButton:hover {
  opacity: 0.9;
  transform: scale(1.02);
}

.errorExitButton:active {
  transform: scale(0.98);
}

/* Hide on mobile utility */
.hideOnMobile {
  display: inline-flex;
}

/* Mobile adjustments */
@media (max-width: 480px) {
  .guessButtons {
    gap: 0.25rem;
  }

  .guessButton {
    min-width: 55px;
    padding: 0.5rem 0.75rem;
  }

  .guessValue {
    font-size: 1rem;
  }

  .resultsModal {
    padding: 1rem;
    max-height: 90vh;
  }

  .resultsTitle {
    font-size: 1.25rem;
  }

  .resultsScore {
    margin-bottom: 0.25rem;
  }

  .scoreValue {
    font-size: 2rem;
  }

  .resultsStats {
    font-size: 0.75rem;
    gap: 1rem;
  }

  .breakdownSection {
    margin-bottom: 1rem;
  }

  .breakdownGrid {
    gap: 0.5rem;
  }

  .breakdownItem {
    padding: 0.5rem 0.75rem;
    min-width: 60px;
  }

  .breakdownCount {
    font-size: 1.25rem;
  }

  .guessList {
    max-height: 120px;
    margin-bottom: 0.75rem;
  }

  .guessItem {
    padding: 0.375rem 0.5rem;
    font-size: 0.8rem;
  }

  .resultsActions {
    gap: 0.5rem;
  }

  .actionButton {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
  }

  /* Hide Different Game button on mobile */
  .hideOnMobile {
    display: none;
  }

  .statsBar {
    padding: 0.5rem;
    gap: 0.5rem;
  }
}

/* Settings panel styles */
.settingsContainer {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.settingRow {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
